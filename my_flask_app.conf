<VirtualHost *:80>
    ServerName localhost

    # 静的ファイルのDocumentRoot
    DocumentRoot /var/www/my_flask_app/frontend    
    <Directory /var/www/my_flask_app/frontend>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # Flaskアプリケーションを /api のルートで提供
    # ProxyPass /api http://127.0.0.1:5000/
    # ProxyPassReverse /api http://127.0.0.1:5000/
    # ProxyPass /api/ http://127.0.0.1:5000/
    # ProxyPassReverse /api/ http://127.0.0.1:5000/

    # ProxyPass /api/ http://127.0.0.1:5001/
    # ProxyPassReverse /api/ http://127.0.0.1:5001/

    ProxyPass /api/ http://127.0.0.1:5001/api/
    ProxyPassReverse /api/ http://127.0.0.1:5001/api/

    # uWSGIプロトコルを使って、ApacheがuWSGIにリクエストを転送
    # ProxyPass /api/ uwsgi://127.0.0.1:5001/
    # ProxyPassReverse /api/ uwsgi://127.0.0.1:5001/

    ErrorLog /var/log/httpd/my_flask_app_error.log
    CustomLog /var/log/httpd/my_flask_app_access.log combined
</VirtualHost>
